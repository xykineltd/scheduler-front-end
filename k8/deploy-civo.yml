# deployment.yaml
#apiVersion: apps/v1
#kind: Deployment
#metadata:
#  name: scheduler-ui
#  labels:
#    app: scheduler-ui
#spec:
#  replicas: 1  # Number of pods
#  selector:
#    matchLabels:
#      app: scheduler-ui
#  template:
#    metadata:
#      labels:
#        app: scheduler-ui
#    spec:
#      containers:
#        - name: scheduler-ui
#          image: kacytunde/payroll-ui:2.5
#          ports:
#            - containerPort: 3000
#          env:
#            - name: PORT
#              value: "3000"

#apiVersion: apps/v1
#kind: Deployment
#metadata:
#  name: nginx-deployment
#spec:
#  replicas: 1
#  selector:
#    matchLabels:
#      app: nginx
#  template:
#    metadata:
#      labels:
#        app: nginx
#    spec:
#      containers:
#        - name: nginx
#          image: kacytunde/scheduler-ui:latest
#          ports:
#            - containerPort: 3000

---
apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  selector:
    app: edge-service
  ports:
    - protocol: TCP
      port: 80
      targetPort: 9000
  type: ClusterIP

---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: nginx-ingress
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: web
spec:
  rules:
    - host: xykinehrs.com
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: nginx-service
                port:
                  number: 80
          - path: /scheduler
            pathType: Prefix
            backend:
              service:
                name: scheduler-service  # The backend service for /scheduler
                port:
                  number: 80